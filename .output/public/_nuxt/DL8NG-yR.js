import{d as B,aj as E,ak as F,u as M,J as N,r as y,x as U,c as u,h as q,a,b as i,e as l,w as R,T as j,N as A,o as d,_ as H,K as J,Q as r,F as K,l as P,t as Q,S as z,R as g,V as w}from"./CNNffg5U.js";import{i as m,_ as G}from"./B3usRQSs.js";import{_ as I}from"./DVW9z85d.js";import{_ as O,a as W}from"./DOhMkyku.js";import{f as X}from"./2gKM0m1V.js";import{b as Y}from"./DLgMY6mf.js";import{u as Z}from"./Lo25e5TF.js";import{r as ee}from"./Xy0_oFzj.js";const te={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},ae={class:"py-8"},oe=["value"],ne={class:"flex flex-col gap-8 pb-4"},me=B({__name:"devotional",async setup(se){let c,_;const v=E(),{data:p,pending:V}=([c,_]=F(()=>Z("/api/user/bible/devotional/".concat(v.params.id),"$37l6F0aa7h")),c=await c,_(),c),{fetch:k}=M(),x=N(),s=y(!1);let h=y("");const e=U({type:"Devotional",book:"",chapter:"",verses:"",notes:""});p.value&&(e.type=p.value.type,e.book=p.value.book_title,e.chapter=p.value.chapter,e.verses=p.value.verses,e.notes=p.value.notes);async function C(){s.value=!0,$fetch("/api/user/bible/devotional/".concat(v.params.id),{method:"PUT",body:{...e,date:X()}}).then(async()=>{await k(),await ee(),await w("/dashboard/spirit"),s.value=!1}).catch(async t=>{x.error("Failed to update","Try again"),console.log(t),h.value=t.statusMessage,s.value=!1})}async function L(){s.value=!0,$fetch("/api/user/bible/devotional/".concat(v.params.id),{method:"DELETE",body:e}).then(async()=>{await w("/dashboard/spirit")}).catch(async t=>{x.error("Failed to delete","Try again"),console.log(t),h.value=t.statusMessage,s.value=!1})}return(t,n)=>{const D=H,b=G,T=I,S=O,$=W,f=A("motion");return a(V)?q("",!0):(d(),u("div",te,[i("div",ae,[l(D,{text:"Edit devotional entry"})]),l(j,{name:"slide-up",mode:"out-in"},{default:R(()=>[i("form",{onSubmit:J(C,["prevent"]),class:"space-y-6"},[r((d(),u("div",null,[r(i("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=o=>a(e).book=o),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=i("option",{value:"",disabled:"",selected:"",hidden:""},"Choose book",-1)),(d(!0),u(K,null,P(a(Y),o=>(d(),u("option",{value:o.value,key:o.label},Q(o.label),9,oe))),128))],512),[[z,a(e).book]])])),[[f,{...("inputVarient"in t?t.inputVarient:a(m))()}]]),r((d(),u("div",null,[l(b,{text:"Chapter"}),r(i("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=o=>a(e).chapter=o),placeholder:"Chapter",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).chapter]])])),[[f,{...("inputVarient"in t?t.inputVarient:a(m))()}]]),r((d(),u("div",null,[l(b,{text:"Verses"}),r(i("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=o=>a(e).verses=o),placeholder:"verses",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).verses]])])),[[f,{...("inputVarient"in t?t.inputVarient:a(m))()}]]),r((d(),u("div",null,[l(b,{text:"Notes"}),r(i("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=o=>a(e).notes=o),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).notes]])])),[[f,{...("inputVarient"in t?t.inputVarient:a(m))()}]]),i("div",ne,[l(T,{text:"Save",isLoading:s.value},null,8,["isLoading"]),l(S,{text:"Cancel",path:"/dashboard/spirit",isLoading:s.value},null,8,["isLoading"]),l($,{onClick:L,text:"Delete",isLoading:s.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{me as default};
