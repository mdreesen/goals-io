import{_ as V}from"./Vaw33-nF.js";import{d as C,w as G,u as M,K as N,r as d,y as U,O as $,c as m,o as i,b as a,F as j,m as F,g as A,h as o,e,P as O,T as f,a as l,X as P,L as q,Q as g,R as z}from"./Dv0CfUCG.js";import{_ as E,i as K}from"./YluVS3Ua.js";import{_ as Q}from"./Bb-YVLY2.js";import{_ as R}from"./6otIoJsJ.js";import{f as X}from"./dOo_R78I.js";import{u as H}from"./DCfKSLFt.js";import{u as I,r as J}from"./BnM1HfN_.js";import"./CEYa2VJ5.js";import"./CCD7l6_O.js";const W={class:"container-cards"},Y={class:"flex flex-col items-center justify-center w-full mx-auto p-8 font-sans"},Z={class:"w-full relative mb-4 flex justify-center"},ee={class:"flex flex-col items-center gap-8 pb-4"},te=C({__name:"TrackerGratitude",async setup(ae){let _,p;[_,p]=G(()=>H("/api/user/gratitudes/gratitudes",{key:"gratitudes"},"$c1zMCs162y")),await _,p();const{data:x}=I("gratitudes"),{fetch:v}=M(),b=N(),n=d(!1);let y=d("");const u=d(!1),c=U({gratitude:""});async function h(){n.value=!0,$fetch("/api/user/gratitudes/gratitudes",{method:"POST",body:{...c,date:X()}}).then(async()=>{await v(),await J(),u.value=!1,n.value=!1}).catch(async s=>{b.error("Failed to create","Try again"),console.log(s),y.value=s.statusMessage,n.value=!1})}return(s,r)=>{const w=V,T=O,k=P,D=E,L=Q,B=R,S=$("motion");return i(),m("div",null,[a("div",W,[(i(!0),m(j,null,F(l(x).reverse(),t=>(i(),A(f,{name:"slide-up",mode:"out-in"},{default:o(()=>[e(T,{class:"flex flex-col justify-center w-full items-center",to:`/dashboard/mind/${[t._id]}/gratitudes`},{default:o(()=>[e(w,{text:t.description,icon:"material-symbols:bolt-outline-rounded",iconNav:"material-symbols:arrow-forward-ios-rounded"},null,8,["text"])]),_:2},1032,["to"])]),_:2},1024))),256))]),a("div",Y,[a("div",Z,[e(f,{name:"slide-up",mode:"out-in"},{default:o(()=>[e(B,{title:"Log a new gratitude",open:u.value,"onUpdate:open":r[1]||(r[1]=t=>u.value=t)},{body:o(()=>[a("form",{onSubmit:q(h,["prevent"]),class:"space-y-6"},[g((i(),m("div",null,[e(D,{text:"Description"}),g(a("textarea",{id:"text",type:"text","onUpdate:modelValue":r[0]||(r[0]=t=>l(c).gratitude=t),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[z,l(c).gratitude]])])),[[S,{...("inputVarient"in s?s.inputVarient:l(K))()}]]),a("div",ee,[e(L,{text:"Save",isLoading:n.value},null,8,["isLoading"])])],32)]),default:o(()=>[e(k,{label:"Add Gratitude",color:"neutral",variant:"subtle","trailing-icon":"material-symbols:bolt-rounded"})]),_:1},8,["open"])]),_:1})])])])}}}),_e=Object.assign(te,{__name:"AppTrackerGratitude"});export{_e as default};
