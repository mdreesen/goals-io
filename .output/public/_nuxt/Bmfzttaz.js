import{f as E,c as M,i as r,_ as R}from"./C6cLnUr-.js";import{d as j,r as y,u as B,K as P,y as V,W as $,c as a,b as e,Q as o,O as z,a as s,i as O,n as L,N as v,t as S,L as k,e as u,R as x,h as b,T as W,P as I,o as n,X as Q,V as A}from"./k8T7zV5X.js";import{_ as F}from"./_kXwMX1L.js";import{_ as K}from"./d6HicHHT.js";const X={class:"relative flex min-h-screen items-center justify-center bg-gray-950 p-4 overflow-hidden"},G={class:"flex flex-col items-center gap-8"},H={class:"text-center"},J={class:"flex flex-col items-center justify-center w-full mx-auto font-sans"},Y={class:"w-full relative flex justify-end"},Z={class:"flex flex-col gap-8 pb-4"},ee=["disabled"],te={class:"relative flex items-center justify-center py-4"},oe={class:"text-center"},se={class:"text-gray-400 text-sm"},ue=j({__name:"login",setup(ae){const _=y(),i=y(!1);let g=y("");const{fetch:w}=B(),h=P(),f=V({email:"",password:""}),p=V({email:"",question:""});async function T(){i.value=!0,$fetch("/api/authentication/login",{method:"POST",body:f}).then(async()=>{await w(),await A("/dashboard")}).catch(async c=>{h.error("Log in failed","Try again"),console.log(c),g.value=c.statusMessage,i.value=!1})}async function q(){i.value=!0,$fetch("/api/authentication/forgot",{method:"POST",body:{...p}}).then(async()=>{await w(),i.value=!1,h.success("Email sent","Check you email and don't forget checking spam folder!")}).catch(async c=>{console.log(c),g.value=c.statusMessage,i.value=!1})}return $(_,{...E()}),(c,t)=>{const m=R,N=Q,U=F,C=K,D=I,l=z("motion");return n(),a("div",X,[t[8]||(t[8]=e("div",{class:"absolute inset-0 z-0 bg-linear-to-br from-gray-950 via-gray-800 to-purple-950 opacity-70"},null,-1)),e("section",G,[o((n(),a("div",H,[...t[4]||(t[4]=[e("h1",{class:"flex flex-col text-4xl sm:text-6xl font-extrabold text-white leading-tight"},[e("span",null,"Welcome to"),e("span",{class:"bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-400"}," ASCÎžND ")],-1),e("p",{class:"mt-2 text-lg sm:text-xl text-gray-400"},"Log in to unlock your journey.",-1)])])),[[l,{...s(M)()}]]),e("div",{ref_key:"formRef",ref:_,class:"relative z-20 w-full rounded-3xl border border-gray-700 bg-gray-800/50 p-8 shadow-2xl backdrop-blur-md space-y-6 transform transition-all duration-300"},[s(g)?o((n(),a("div",{key:0,class:L(["text-center py-2 px-4 rounded-lg","bg-red-600/30 text-red-400"])},[v(S(s(g)),1)])),[[l,{...s(r)()}]]):O("",!0),e("form",{onSubmit:k(T,["prevent"]),class:"space-y-6"},[o((n(),a("div",null,[u(m,{text:"Email"}),o(e("input",{id:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=d=>f.email=d),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,f.email]])])),[[l,{...s(r)()}]]),o((n(),a("div",null,[u(m,{text:"Password"}),o(e("input",{id:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=d=>f.password=d),placeholder:"Password",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,f.password]])])),[[l,{...s(r)()}]]),o((n(),a("div",J,[e("div",Y,[u(W,{name:"slide-up",mode:"out-in"},{default:b(()=>[u(C,{title:"Reset your password",overlay:!1},{body:b(()=>[e("form",{onSubmit:k(q,["prevent"]),class:"space-y-6"},[o((n(),a("div",null,[u(m,{text:"Email"}),o(e("input",{id:"email",type:"email","onUpdate:modelValue":t[2]||(t[2]=d=>p.email=d),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,p.email]])])),[[l,{...s(r)()}]]),o((n(),a("div",null,[u(m,{text:"Question"}),o(e("input",{id:"question",type:"text","onUpdate:modelValue":t[3]||(t[3]=d=>p.question=d),placeholder:"What is 4 + 3",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,p.question]])])),[[l,{...s(r)()}]]),e("div",Z,[u(U,{text:"Reset",isLoading:i.value,isLoadingText:"Submitting..."},null,8,["isLoading"])])],32)]),default:b(()=>[u(N,{label:"Forgot password",color:"neutral",variant:"subtle"})]),_:1})]),_:1})])])),[[l,{...s(r)()}]]),o((n(),a("div",null,[e("button",{type:"submit",disabled:i.value,class:L(`${i.value?"bg-linear-to-r from-gray-500 to-gray-600":"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900"} w-full rounded-xl py-3 text-lg font-semibold text-white shadow-lg transition-all duration-300 ease-in-out`)},S(i.value?"Logging In...":"Log In"),11,ee)])),[[l,{...s(r)()}]])],32),o((n(),a("div",te,[...t[5]||(t[5]=[e("div",{class:"absolute w-full border-t border-gray-700"},null,-1),e("span",{class:"relative z-10 bg-gray-800/80 backdrop-blur-md px-4 text-gray-400 text-sm"},"OR",-1)])])),[[l,{...s(r)()}]]),o((n(),a("div",oe,[e("p",se,[t[7]||(t[7]=v(" Don't have an account? ",-1)),u(D,{to:"/signup",class:"text-blue-400 hover:underline transition-colors"},{default:b(()=>[...t[6]||(t[6]=[v("Sign up",-1)])]),_:1})])])),[[l,{...s(r)()}]])],512)])])}}});export{ue as default};
