import{d as E,aj as k,ak as D,u as M,J as F,r as m,x as N,c as g,h as R,a as n,b as i,e as a,w as S,T as U,N as j,o as h,_ as q,K as A,Q as f,R as H,V as x}from"./CNNffg5U.js";import{_ as J,i as K}from"./B3usRQSs.js";import{_ as O}from"./DVW9z85d.js";import{_ as P,a as Q}from"./DOhMkyku.js";import{u as W}from"./Lo25e5TF.js";import"./Xy0_oFzj.js";const z={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},G={class:"py-8"},I={class:"flex flex-col gap-8 pb-4"},se=E({__name:"weight",async setup(X){var _;let s,u;const l=k(),{data:r,pending:v}=([s,u]=D(()=>W("/api/user/weight/".concat(l.params.id),"$sOFRUBEhlR")),s=await s,u(),s);M();const c=F(),t=m(!1);let d=m("");const o=N({weight:""});r.value&&(o.weight=(_=r.value)==null?void 0:_.weight);async function w(){t.value=!0,$fetch("/api/user/weight/".concat(l.params.id),{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await x("/dashboard/body")}).catch(async e=>{c.error("Failed to update","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}async function y(){t.value=!0,$fetch("/api/user/weight/".concat(l.params.id),{method:"DELETE",body:o}).then(async()=>{await x("/dashboard/body")}).catch(async e=>{c.error("Failed to delete","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}return(e,p)=>{const b=q,L=J,T=O,V=P,$=Q,B=j("motion");return n(v)?R("",!0):(h(),g("div",z,[i("div",G,[a(b,{text:"Edit weight entry"})]),a(U,{name:"slide-up",mode:"out-in"},{default:S(()=>[i("form",{onSubmit:A(w,["prevent"]),class:"space-y-6"},[f((h(),g("div",null,[a(L,{text:"Weight"}),f(i("input",{id:"text",type:"text","onUpdate:modelValue":p[0]||(p[0]=C=>n(o).weight=C),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[H,n(o).weight]])])),[[B,{...("inputVarient"in e?e.inputVarient:n(K))()}]]),i("div",I,[a(T,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/body",isLoading:t.value},null,8,["isLoading"]),a($,{onClick:y,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{se as default};
