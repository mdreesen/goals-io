import{_ as B}from"./MpJTGTFF.js";import{_ as M,i as E}from"./Cpgwh9f5.js";import{_ as S}from"./BFmKcXHz.js";import{_ as k,a as N}from"./BPre3cvj.js";import{e as F,am as P,an as U,f as q,J as K,q as m,s as A,c as p,i as G,g as n,a as i,b as a,w as H,T as J,M as O,o as f,K as Q,O as g,P as R,a3 as x}from"./CDW9pQro.js";import{f as j}from"./BGMpC11e.js";import{u as z}from"./C93uU8Nr.js";import{r as I}from"./DmX1ZooR.js";const W={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},X={class:"py-8"},Y={class:"flex flex-col gap-8 pb-4"},le=F({__name:"gratitudes",async setup(Z){let s,l;const r=P(),{data:u,pending:v}=([s,l]=U(()=>z(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,l(),s),{fetch:h}=q(),d=K(),e=m(!1);let c=m("");const o=A({gratitude:""});u.value&&(o.gratitude=u.value.gratitude);async function y(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:j()}}).then(async()=>{await h(),await I(),await x("/dashboard/mind"),e.value=!1}).catch(async t=>{d.error("Failed to update","Try again"),console.log(t),c.value=t.statusMessage,e.value=!1})}async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await x("/dashboard/mind")}).catch(async t=>{d.error("Failed to delete","Try again"),console.log(t),c.value=t.statusMessage,e.value=!1})}return(t,_)=>{const w=B,L=M,T=S,D=k,V=N,C=O("motion");return n(v)?G("",!0):(f(),p("div",W,[i("div",X,[a(w,{text:"Edit gratitiude entry"})]),a(J,{name:"slide-up",mode:"out-in"},{default:H(()=>[i("form",{onSubmit:Q(y,["prevent"]),class:"space-y-6"},[g((f(),p("div",null,[a(L,{text:"Description"}),g(i("textarea",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=$=>n(o).gratitude=$),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[R,n(o).gratitude]])])),[[C,{...("inputVarient"in t?t.inputVarient:n(E))()}]]),i("div",Y,[a(T,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(D,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),a(V,{onClick:b,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{le as default};
