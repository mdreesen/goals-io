import{d as $,ak as D,w as k,K as M,r as p,y as F,c as m,e as N,a as n,b as i,l as a,h as R,T as S,O as U,o as h,_ as O,L as q,Q as g,R as A,V as f}from"./C1NAwyRm.js";import{_ as H,i as K}from"./B5DNPJd4.js";import{_ as P}from"./NG1t0IGD.js";import{_ as Q,a as W}from"./CT69oA_3.js";import{u as j}from"./CG5fhTe9.js";import{r as w}from"./B4pxpPdA.js";const z={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},G={class:"py-8"},I={class:"flex flex-col gap-8 pb-4"},oe=$({__name:"weight",async setup(J){let s,u;const l=D(),{data:r,pending:x}=([s,u]=k(()=>j(`/api/user/weight/${l.params.id}`,"$sOFRUBEhlR")),s=await s,u(),s),c=M(),t=p(!1);let d=p("");const o=F({weight:""});r.value&&(o.weight=r.value?.weight);async function v(){t.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await w(["weight","chart_weight"]),await f("/dashboard/body")}).catch(async e=>{c.error("Failed to update","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}async function y(){t.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"DELETE",body:o}).then(async()=>{await w(["weight","chart_weight"]),await f("/dashboard/body")}).catch(async e=>{c.error("Failed to delete","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}return(e,_)=>{const b=O,L=H,T=P,V=Q,B=W,C=U("motion");return n(x)?N("",!0):(h(),m("div",z,[i("div",G,[a(b,{text:"Edit weight entry"})]),a(S,{name:"slide-up",mode:"out-in"},{default:R(()=>[i("form",{onSubmit:q(v,["prevent"]),class:"space-y-6"},[g((h(),m("div",null,[a(L,{text:"Weight"}),g(i("input",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=E=>n(o).weight=E),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[A,n(o).weight]])])),[[C,{...("inputVarient"in e?e.inputVarient:n(K))()}]]),i("div",I,[a(T,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/body",isLoading:t.value},null,8,["isLoading"]),a(B,{onClick:y,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{oe as default};
