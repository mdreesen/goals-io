import{d as aa,a_ as H,j as I,q as L,a$ as B,Y as F,c as ea,b0 as A,b1 as V,b2 as ta,C as ra,b3 as Y,b4 as J,f as $,a0 as na,b5 as sa,b6 as ia,k as oa,D as ca,y as z,r as la,aM as ua,m as da,b7 as fa,a as Q,b8 as _a,b9 as va,ba as Da}from"./CNNffg5U.js";const ha={trailing:!0};function ba(a,e=25,n={}){if(n={...ha,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let l,t,_=[],s,r;const v=(u,b)=>(s=ya(a,u,b),s.finally(()=>{if(s=null,n.trailing&&r&&!t){const h=v(u,r);return r=null,h}}),s),o=function(...u){return n.trailing&&(r=u),s||new Promise(b=>{const h=!t&&n.leading;clearTimeout(t),t=setTimeout(()=>{t=null;const y=n.leading?l:v(this,u);r=null;for(const C of _)C(y);_=[]},e),h?(l=v(this,u),b(l)):_.push(b)})},i=u=>{u&&(clearTimeout(u),t=null)};return o.isPending=()=>!!t,o.cancel=()=>{i(t),_=[],r=null},o.flush=()=>{if(i(t),!r||s)return;const u=r;return r=null,v(this,u)},o}async function ya(a,e,n){return await a.apply(e,n)}const X=Symbol.for("nuxt:client-only"),N="<div></div>",Oa=aa({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(a,{slots:e,attrs:n}){const l=H(!1);I(()=>{l.value=!0});const t=L();return t&&(t._nuxtClientOnly=!0),ra(X,!0),()=>{var v;if(l.value){const o=(v=e.default)==null?void 0:v.call(e);return o&&o.length===1?[B(o[0],n)]:o}const _=e.fallback||e.placeholder;if(_)return F(_);const s=a.fallback||a.placeholder||"",r=a.fallbackTag||a.placeholderTag||"span";return ea(r,n,s)}}}),j=new WeakMap;function pa(a){if(j.has(a))return j.get(a);const e={...a};return e.render?e.render=(n,l,t,_,s,r)=>{var v,o;if((v=_.mounted$)!=null?v:n.mounted$){const i=(o=a.render)==null?void 0:o.bind(n)(n,l,t,_,s,r);return i.children===null||typeof i.children=="string"?B(i):F(i)}return A(n._.vnode.el,N)}:e.template&&(e.template='\n      <template v-if="mounted$">'.concat(a.template,"</template>\n      <template v-else>").concat(N,"</template>\n    ")),e.setup=(n,l)=>{var v;const t=V(),_=H(t.isHydrating===!1),s=L();if(t.isHydrating){const o={...s.attrs},i=ma(s);for(const u in o)delete s.attrs[u];I(()=>{Object.assign(s.attrs,o),s.vnode.dirs=i})}I(()=>{_.value=!0});const r=((v=a.setup)==null?void 0:v.call(a,n,l))||{};return ta(r)?Promise.resolve(r).then(o=>typeof o!="function"?(o||(o={}),o.mounted$=_,o):(...i)=>{if(_.value||!t.isHydrating){const u=o(...i);return u.children===null||typeof u.children=="string"?B(u):F(u)}return A(s==null?void 0:s.vnode.el,N)}):typeof r=="function"?(...o)=>{if(_.value){const i=r(...o),u=e.inheritAttrs!==!1?l.attrs:void 0;return i.children===null||typeof i.children=="string"?B(i,u):F(i,u)}return A(s==null?void 0:s.vnode.el,N)}:Object.assign(r,{mounted$:_})},j.set(a,e),e}function ma(a){if(!a||!a.vnode.dirs)return null;const e=a.vnode.dirs;return a.vnode.dirs=null,e}function Ta(...a){var y,C,m,P,E,w,O;const e=typeof a[a.length-1]=="string"?a.pop():void 0;ga(a[0],a[1])&&a.unshift(e);let[n,l,t={}]=a,_=!1;const s=$(()=>na(n));if(typeof s.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof l!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=V();(y=t.server)!=null||(t.server=!0),(C=t.default)!=null||(t.default=Pa),(m=t.getCachedData)!=null||(t.getCachedData=K),(P=t.lazy)!=null||(t.lazy=!1),(E=t.immediate)!=null||(t.immediate=!0),(w=t.deep)!=null||(t.deep=sa.deep),(O=t.dedupe)!=null||(t.dedupe="cancel"),t._functionName,r._asyncData[s.value];function v(){var d;const c={cause:"initial",dedupe:t.dedupe};return(d=r._asyncData[s.value])!=null&&d._init||(c.cachedData=t.getCachedData(s.value,r,{cause:"initial"}),r._asyncData[s.value]=G(r,s.value,l,t,c.cachedData)),()=>r._asyncData[s.value].execute(c)}const o=v(),i=r._asyncData[s.value];i._deps++;const u=t.server!==!1&&r.payload.serverRendered;{let c=function(f){const D=r._asyncData[f];D!=null&&D._deps&&(D._deps--,D._deps===0&&(D==null||D._off()))};const d=L();if(d&&u&&t.immediate&&!d.sp&&(d.sp=[]),d&&!d._nuxtOnBeforeMountCbs){d._nuxtOnBeforeMountCbs=[];const f=d._nuxtOnBeforeMountCbs;ia(()=>{f.forEach(D=>{D()}),f.splice(0,f.length)}),oa(()=>f.splice(0,f.length))}const p=d&&(d._nuxtClientOnly||ca(X,!1));u&&r.isHydrating&&(i.error.value||i.data.value!==void 0)?i.status.value=i.error.value?"error":"success":d&&(!p&&r.payload.serverRendered&&r.isHydrating||t.lazy)&&t.immediate?d._nuxtOnBeforeMountCbs.push(o):t.immediate&&i.status.value!=="success"&&o();const M=Y(),T=z(s,(f,D)=>{var W,q;if((f||D)&&f!==D){_=!0;const x=((W=r._asyncData[D])==null?void 0:W.data.value)!==void 0,k=r._asyncDataPromises[D]!==void 0,U={cause:"initial",dedupe:t.dedupe};if(!((q=r._asyncData[f])!=null&&q._init)){let S;D&&x?S=r._asyncData[D].data.value:(S=t.getCachedData(f,r,{cause:"initial"}),U.cachedData=S),r._asyncData[f]=G(r,f,l,t,S)}r._asyncData[f]._deps++,D&&c(D),(t.immediate||x||k)&&r._asyncData[f].execute(U),Da(()=>{_=!1})}},{flush:"sync"}),g=t.watch?z(t.watch,()=>{var f;_||(f=r._asyncData[s.value])==null||f._execute({cause:"watch",dedupe:t.dedupe})}):()=>{};M&&J(()=>{T(),g(),c(s.value)})}const b={data:R(()=>{var c;return(c=r._asyncData[s.value])==null?void 0:c.data}),pending:R(()=>{var c;return(c=r._asyncData[s.value])==null?void 0:c.pending}),status:R(()=>{var c;return(c=r._asyncData[s.value])==null?void 0:c.status}),error:R(()=>{var c;return(c=r._asyncData[s.value])==null?void 0:c.error}),refresh:(...c)=>{var d;return(d=r._asyncData[s.value])!=null&&d._init?r._asyncData[s.value].execute(...c):v()()},execute:(...c)=>b.refresh(...c),clear:()=>{const c=r._asyncData[s.value];if(c!=null&&c._abortController)try{c._abortController.abort(new DOMException("AsyncData aborted by user.","AbortError"))}finally{c._abortController=void 0}Z(r,s.value)}},h=Promise.resolve(r._asyncDataPromises[s.value]).then(()=>b);return Object.assign(h,b),h}function R(a){return $({get(){var e;return(e=a())==null?void 0:e.value},set(e){const n=a();n&&(n.value=e)}})}function ga(a,e){return!(typeof a=="string"||typeof a=="object"&&a!==null||typeof a=="function"&&typeof e=="function")}function Ma(a){const e=V();if(a in e.payload.data||(e.payload.data[a]=void 0),e._asyncData[a]){const n=e._asyncData[a];n._deps++,Y()&&J(()=>{n._deps--,n._deps===0&&(n==null||n._off())})}return{data:$({get(){var n,l;return(l=(n=e._asyncData[a])==null?void 0:n.data.value)!=null?l:e.payload.data[a]},set(n){e._asyncData[a]?e._asyncData[a].data.value=n:e.payload.data[a]=n}})}}async function Sa(a){await new Promise(n=>_a(n));const e=a?va(a):void 0;await V().hooks.callHookParallel("app:data:refresh",e)}function Z(a,e){e in a.payload.data&&(a.payload.data[e]=void 0),e in a.payload._errors&&(a.payload._errors[e]=void 0),a._asyncData[e]&&(a._asyncData[e].data.value=Q(a._asyncData[e]._default()),a._asyncData[e].error.value=void 0,a._asyncData[e].status.value="idle"),e in a._asyncDataPromises&&(a._asyncDataPromises[e]=void 0)}function Ca(a,e){const n={};for(const l of e)n[l]=a[l];return n}function G(a,e,n,l,t){var u,b;(b=(u=a.payload._errors)[e])!=null||(u[e]=void 0);const _=l.getCachedData!==K,s=n,r=l.deep?la:H,v=t!==void 0,o=a.hook("app:data:refresh",async h=>{(!h||h.includes(e))&&await i.execute({cause:"refresh:hook"})}),i={data:r(v?t:l.default()),pending:$(()=>i.status.value==="pending"),error:ua(a.payload._errors,e),status:H("idle"),execute:(...h)=>{var w,O;const[y,C=void 0]=h,m=y&&C===void 0&&typeof y=="object"?y:{};if(a._asyncDataPromises[e]&&((w=m.dedupe)!=null?w:l.dedupe)==="defer")return a._asyncDataPromises[e];{const c="cachedData"in m?m.cachedData:l.getCachedData(e,a,{cause:(O=m.cause)!=null?O:"refresh:manual"});if(c!==void 0)return a.payload.data[e]=i.data.value=c,i.error.value=void 0,i.status.value="success",Promise.resolve(c)}i._abortController&&i._abortController.abort(new DOMException("AsyncData request cancelled by deduplication","AbortError")),i._abortController=new AbortController,i.status.value="pending";const P=new AbortController,E=new Promise((c,d)=>{var p,M;try{const T=(p=m.timeout)!=null?p:l.timeout,g=Ea([(M=i._abortController)==null?void 0:M.signal,m==null?void 0:m.signal],P.signal,T);if(g.aborted){const f=g.reason;d(f instanceof Error?f:new DOMException(String(f!=null?f:"Aborted"),"AbortError"));return}return g.addEventListener("abort",()=>{const f=g.reason;d(f instanceof Error?f:new DOMException(String(f!=null?f:"Aborted"),"AbortError"))},{once:!0,signal:P.signal}),Promise.resolve(s(a,{signal:g})).then(c,d)}catch(T){d(T)}}).then(async c=>{let d=c;l.transform&&(d=await l.transform(c)),l.pick&&(d=Ca(d,l.pick)),a.payload.data[e]=d,i.data.value=d,i.error.value=void 0,i.status.value="success"}).catch(c=>{var d;if(a._asyncDataPromises[e]&&a._asyncDataPromises[e]!==E||(d=i._abortController)!=null&&d.signal.aborted)return a._asyncDataPromises[e];if(typeof DOMException<"u"&&c instanceof DOMException&&c.name==="AbortError")return i.status.value="idle",a._asyncDataPromises[e];i.error.value=fa(c),i.data.value=Q(l.default()),i.status.value="error"}).finally(()=>{P.abort(),delete a._asyncDataPromises[e]});return a._asyncDataPromises[e]=E,a._asyncDataPromises[e]},_execute:ba((...h)=>i.execute(...h),0,{leading:!0}),_default:l.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var h;o(),(h=a._asyncData[e])!=null&&h._init&&(a._asyncData[e]._init=!1),_||da(()=>{var y;(y=a._asyncData[e])!=null&&y._init||(Z(a,e),i.execute=()=>Promise.resolve())})}};return i}const Pa=()=>{},K=(a,e,n)=>{if(e.isHydrating)return e.payload.data[a];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[a]};function Ea(a,e,n){var s,r,v;const l=a.filter(o=>!!o);if(typeof n=="number"&&n>=0){const o=(s=AbortSignal.timeout)==null?void 0:s.call(AbortSignal,n);o&&l.push(o)}if(AbortSignal.any)return AbortSignal.any(l);const t=new AbortController;for(const o of l)if(o.aborted){const i=(r=o.reason)!=null?r:new DOMException("Aborted","AbortError");try{t.abort(i)}catch(u){t.abort()}return t.signal}const _=()=>{var u;const o=l.find(b=>b.aborted),i=(u=o==null?void 0:o.reason)!=null?u:new DOMException("Aborted","AbortError");try{t.abort(i)}catch(b){t.abort()}};for(const o of l)(v=o.addEventListener)==null||v.call(o,"abort",_,{once:!0,signal:e});return t.signal}export{Oa as _,Ta as a,pa as c,Sa as r,Ma as u};
