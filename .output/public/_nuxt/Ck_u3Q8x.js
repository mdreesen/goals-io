import{e as M,q as g,f as U,s as _,a4 as j,c as a,a as t,N as s,O as B,g as o,i as C,n as h,d as y,t as k,K as S,P as x,b as c,w as b,T as E,_ as P,o as l,M as R,a3 as $}from"./BBuQfMQW.js";import{_ as z}from"./BJJSekOF.js";import{_ as O}from"./BrWIpdZp.js";import{f as I,c as W,i}from"./THmtR4Dj.js";import{r as A}from"./kaJMkjNa.js";import"./DvXkyWUv.js";const F={class:"relative flex min-h-screen items-center justify-center bg-gray-950 p-4 overflow-hidden"},K={class:"flex flex-col items-center gap-8"},Q={class:"text-center"},G={class:"flex flex-col items-center justify-center w-full max-w-sm mx-auto font-sans"},H={class:"w-full relative flex justify-end"},J={class:"flex flex-col gap-8 pb-4"},X=["disabled"],Y={class:"relative flex items-center justify-center py-4"},Z={class:"text-center"},ee={class:"text-gray-400 text-sm"},ie=M({__name:"login",setup(te){const v=g();g("");const n=g(!1);let p=g("");const{fetch:w}=U(),f=_({email:"",password:""}),m=_({email:"",question:""});async function V(){n.value=!0,$fetch("/api/authentication/login",{method:"POST",body:f}).then(async()=>{await w(),await $("/dashboard"),n.value=!1}).catch(async d=>{console.log(d),p.value=d.statusMessage,n.value=!1})}async function q(){n.value=!0,$fetch("/api/authentication/forgot",{method:"POST",body:{...m}}).then(async()=>{await w(),await A(),n.value=!1}).catch(async d=>{console.log(d),p.value=d.statusMessage,n.value=!1})}return j(v,{...I()}),(d,e)=>{const L=R,N=z,T=O,D=P,r=B("motion");return l(),a("div",F,[e[12]||(e[12]=t("div",{class:"absolute inset-0 z-0 bg-linear-to-br from-gray-950 via-gray-800 to-purple-950 opacity-70"},null,-1)),t("section",K,[s((l(),a("div",Q,[...e[4]||(e[4]=[t("h1",{class:"flex flex-col text-4xl sm:text-6xl font-extrabold text-white leading-tight"},[t("span",null,"Welcome to"),t("span",{class:"bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-400"}," ASCÎžND ")],-1),t("p",{class:"mt-2 text-lg sm:text-xl text-gray-400"},"Log in to unlock your journey.",-1)])])),[[r,{...o(W)()}]]),t("div",{ref_key:"formRef",ref:v,class:"relative z-20 w-full max-w-sm rounded-3xl border border-gray-700 bg-gray-800/50 p-8 shadow-2xl backdrop-blur-md space-y-6 transform transition-all duration-300"},[o(p)?s((l(),a("div",{key:0,class:h(["text-center py-2 px-4 rounded-lg","bg-red-600/30 text-red-400"])},[y(k(o(p)),1)])),[[r,{...o(i)()}]]):C("",!0),t("form",{onSubmit:S(V,["prevent"]),class:"space-y-6"},[s((l(),a("div",null,[e[5]||(e[5]=t("label",{for:"email",class:"block text-sm font-medium text-gray-300 mb-1"},"Email",-1)),s(t("input",{id:"email",type:"email","onUpdate:modelValue":e[0]||(e[0]=u=>o(f).email=u),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,o(f).email]])])),[[r,{...o(i)()}]]),s((l(),a("div",null,[e[6]||(e[6]=t("label",{for:"password",class:"block text-sm font-medium text-gray-300 mb-1"},"Password",-1)),s(t("input",{id:"password",type:"password","onUpdate:modelValue":e[1]||(e[1]=u=>o(f).password=u),placeholder:"Password",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,o(f).password]])])),[[r,{...o(i)()}]]),s((l(),a("div",G,[t("div",H,[c(E,{name:"slide-up",mode:"out-in"},{default:b(()=>[c(T,{title:"Reset your password"},{body:b(()=>[t("form",{onSubmit:S(q,["prevent"]),class:"space-y-6"},[s((l(),a("div",null,[e[7]||(e[7]=t("label",{for:"email",class:"block text-sm font-medium text-gray-300 mb-1"},"Email",-1)),s(t("input",{id:"email",type:"email","onUpdate:modelValue":e[2]||(e[2]=u=>o(m).email=u),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,o(m).email]])])),[[r,{...o(i)()}]]),s((l(),a("div",null,[e[8]||(e[8]=t("label",{for:"text",class:"block text-sm font-medium text-gray-300 mb-1"},"Question",-1)),s(t("input",{id:"question",type:"text","onUpdate:modelValue":e[3]||(e[3]=u=>o(m).question=u),placeholder:"What is 4 + 3",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[x,o(m).question]])])),[[r,{...o(i)()}]]),t("div",J,[c(N,{text:"Reset",isLoading:n.value,isLoadingText:"Submitting..."},null,8,["isLoading"])])],32)]),default:b(()=>[c(L,{label:"Forgot password",color:"neutral",variant:"subtle"})]),_:1})]),_:1})])])),[[r,{...o(i)()}]]),s((l(),a("div",null,[t("button",{type:"submit",disabled:n.value,class:h(`${n.value?"bg-linear-to-r from-gray-500 to-gray-600":"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900"} w-full rounded-xl py-3 text-lg font-semibold text-white shadow-lg transition-all duration-300 ease-in-out`)},k(n.value?"Logging In...":"Log In"),11,X)])),[[r,{...o(i)()}]])],32),s((l(),a("div",Y,[...e[9]||(e[9]=[t("div",{class:"absolute w-full border-t border-gray-700"},null,-1),t("span",{class:"relative z-10 bg-gray-800/80 backdrop-blur-md px-4 text-gray-400 text-sm"},"OR",-1)])])),[[r,{...o(i)()}]]),s((l(),a("div",Z,[t("p",ee,[e[11]||(e[11]=y(" Don't have an account? ",-1)),c(D,{to:"/signup",class:"text-blue-400 hover:underline transition-colors"},{default:b(()=>[...e[10]||(e[10]=[y("Sign up",-1)])]),_:1})])])),[[r,{...o(i)()}]])],512)])])}}});export{ie as default};
