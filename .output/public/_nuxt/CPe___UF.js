import{_ as B}from"./CBOZ2bs1.js";import{_ as T}from"./DBvWys6H.js";import{_ as $,a as M}from"./BU8lIm5o.js";import{i as S}from"./THmtR4Dj.js";import{e as k,am as E,J as N,f as U,r as p,s as P,c as _,i as j,g as n,b as s,w as q,T as A,O as F,o as f,a as r,L as G,N as g,P as J,a5 as v}from"./B-MK43wj.js";import{f as O}from"./BGMpC11e.js";import{u as R}from"./B3BFacm9.js";const W={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},z={class:"flex flex-col gap-8 pb-4"},te=k({__name:"index",async setup(H){let o,l;const i=E(),{data:u,pending:x}=([o,l]=N(()=>R(`/api/user/gratitudes/${i.params.id}`,"$wWj089n8iw")),o=await o,l(),o),{fetch:d}=U(),e=p(!1);let c=p("");const a=P({gratitude:""});u.value&&(a.gratitude=u.value.gratitude);async function h(){e.value=!0,$fetch(`/api/user/gratitudes/${i.params.id}`,{method:"PUT",body:{...a,date:O()}}).then(async()=>{await d(),await v("/dashboard/mind"),e.value=!1}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${i.params.id}`,{method:"DELETE",body:a}).then(async()=>{await d(),e.value=!1,await v("/dashboard/mind")}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}return(t,m)=>{const w=B,y=T,L=$,C=M,D=F("motion");return n(x)?j("",!0):(f(),_("div",W,[s(A,{name:"slide-up",mode:"out-in"},{default:q(()=>[r("form",{onSubmit:G(h,["prevent"]),class:"space-y-6"},[g((f(),_("div",null,[s(w,{text:"Description"}),g(r("textarea",{id:"text",type:"text","onUpdate:modelValue":m[0]||(m[0]=V=>n(a).gratitude=V),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[J,n(a).gratitude]])])),[[D,{...("inputVarient"in t?t.inputVarient:n(S))()}]]),r("div",z,[s(y,{text:"Save",isLoading:e.value},null,8,["isLoading"]),s(L,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),s(C,{onClick:b,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{te as default};
