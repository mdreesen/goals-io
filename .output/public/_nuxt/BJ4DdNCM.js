import{d as B,aj as k,ak as E,u as M,J as N,r as p,x as S,c as m,h as F,a as n,b as i,e as a,w as U,T as K,N as P,o as f,_ as Q,K as R,Q as g,R as j,V as x}from"./DKleL3lC.js";import{_ as q,i as A}from"./CbtegX_s.js";import{_ as G}from"./CXsMk0UU.js";import{_ as H,a as J}from"./Bu-RrAG3.js";import{f as z}from"./BGMpC11e.js";import{u as I}from"./ByQkuOQm.js";import{r as O}from"./BsK_PPX3.js";const W={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},X={class:"py-8"},Y={class:"flex flex-col gap-8 pb-4"},re=B({__name:"gratitudes",async setup(Z){let s,u;const r=k(),{data:l,pending:h}=([s,u]=E(()=>I(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,u(),s),{fetch:v}=M(),d=N(),e=p(!1);let c=p("");const o=S({gratitude:""});l.value&&(o.gratitude=l.value.gratitude);async function y(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:z()}}).then(async()=>{await v(),await O(),await x("/dashboard/mind"),e.value=!1}).catch(async t=>{d.error("Failed to update","Try again"),console.log(t),c.value=t.statusMessage,e.value=!1})}async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await x("/dashboard/mind")}).catch(async t=>{d.error("Failed to delete","Try again"),console.log(t),c.value=t.statusMessage,e.value=!1})}return(t,_)=>{const w=Q,L=q,T=G,V=H,D=J,$=P("motion");return n(h)?F("",!0):(f(),m("div",W,[i("div",X,[a(w,{text:"Edit gratitiude entry"})]),a(K,{name:"slide-up",mode:"out-in"},{default:U(()=>[i("form",{onSubmit:R(y,["prevent"]),class:"space-y-6"},[g((f(),m("div",null,[a(L,{text:"Description"}),g(i("textarea",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=C=>n(o).gratitude=C),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,n(o).gratitude]])])),[[$,{...("inputVarient"in t?t.inputVarient:n(A))()}]]),i("div",Y,[a(T,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),a(D,{onClick:b,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{re as default};
