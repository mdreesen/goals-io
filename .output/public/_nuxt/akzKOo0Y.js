import{d as E,ak as $,w as k,K as D,r as p,y as M,c as m,i as F,a as s,b as i,e as a,h as R,T as N,O as S,o as g,_ as U,L as O,Q as h,R as q,V as f}from"./Dv0CfUCG.js";import{_ as A,i as H}from"./YluVS3Ua.js";import{_ as K}from"./Bb-YVLY2.js";import{_ as P,a as Q}from"./BjdC9nEl.js";import{u as W}from"./DCfKSLFt.js";import"./BnM1HfN_.js";import"./CCD7l6_O.js";const j={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},z={class:"py-8"},G={class:"flex flex-col gap-8 pb-4"},oe=E({__name:"weight",async setup(I){let n,u;const l=$(),{data:r,pending:v}=([n,u]=k(()=>W(`/api/user/weight/${l.params.id}`,"$sOFRUBEhlR")),n=await n,u(),n),c=D(),t=p(!1);let d=p("");const o=M({weight:""});r.value&&(o.weight=r.value?.weight);async function x(){t.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await f("/dashboard/body")}).catch(async e=>{c.error("Failed to update","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}async function w(){t.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"DELETE",body:o}).then(async()=>{await f("/dashboard/body")}).catch(async e=>{c.error("Failed to delete","Try again"),console.log(e),d.value=e.statusMessage,t.value=!1})}return(e,_)=>{const y=U,b=A,L=K,T=P,V=Q,B=S("motion");return s(v)?F("",!0):(g(),m("div",j,[i("div",z,[a(y,{text:"Edit weight entry"})]),a(N,{name:"slide-up",mode:"out-in"},{default:R(()=>[i("form",{onSubmit:O(x,["prevent"]),class:"space-y-6"},[h((g(),m("div",null,[a(b,{text:"Weight"}),h(i("input",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=C=>s(o).weight=C),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[q,s(o).weight]])])),[[B,{...("inputVarient"in e?e.inputVarient:s(H))()}]]),i("div",G,[a(L,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(T,{text:"Cancel",path:"/dashboard/body",isLoading:t.value},null,8,["isLoading"]),a(V,{onClick:w,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{oe as default};
