import{d as B,ak as E,w as F,K as M,r as h,y as S,c as u,i as U,a as o,b as s,e as i,h as q,T as N,O as R,o as d,_ as A,L as H,Q as l,F as K,m as O,t as P,S as Q,R as f,V as w}from"./ClF4FzLs.js";import{i as b,_ as j}from"./BJyZqtIA.js";import{_ as z}from"./CC6aNVkc.js";import{_ as G,a as I}from"./CPLcQw_K.js";import{f as J}from"./dOo_R78I.js";import{b as W}from"./h4L-lgrT.js";import{u as X}from"./D287_EOl.js";import"./BLW30Yuf.js";const Y={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},Z={class:"py-8"},ee=["value"],te={class:"flex flex-col gap-8 pb-4"},pe=B({__name:"devotional",async setup(oe){let c,_;const g=E(),{data:p,pending:V}=([c,_]=F(()=>X(`/api/user/bible/devotional/${g.params.id}`,"$37l6F0aa7h")),c=await c,_(),c),x=M(),r=h(!1);let y=h("");const e=S({type:"Devotional",book:"",chapter:"",verses:"",notes:""});p.value&&(e.type=p.value.type,e.book=p.value.book_title,e.chapter=p.value.chapter,e.verses=p.value.verses,e.notes=p.value.notes);async function k(){r.value=!0,$fetch(`/api/user/bible/devotional/${g.params.id}`,{method:"PUT",body:{...e,date:J()}}).then(async()=>{await w("/dashboard/spirit")}).catch(async t=>{x.error("Failed to update","Try again"),console.log(t),y.value=t.statusMessage,r.value=!1})}async function L(){r.value=!0,$fetch(`/api/user/bible/devotional/${g.params.id}`,{method:"DELETE",body:e}).then(async()=>{await w("/dashboard/spirit")}).catch(async t=>{x.error("Failed to delete","Try again"),console.log(t),y.value=t.statusMessage,r.value=!1})}return(t,n)=>{const C=A,v=j,T=z,D=G,$=I,m=R("motion");return o(V)?U("",!0):(d(),u("div",Y,[s("div",Z,[i(C,{text:"Edit devotional entry"})]),i(N,{name:"slide-up",mode:"out-in"},{default:q(()=>[s("form",{onSubmit:H(k,["prevent"]),class:"space-y-6"},[l((d(),u("div",null,[l(s("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=a=>o(e).book=a),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=s("option",{value:"",disabled:"",selected:"",hidden:""},"Choose book",-1)),(d(!0),u(K,null,O(o(W),a=>(d(),u("option",{value:a.value,key:a.label},P(a.label),9,ee))),128))],512),[[Q,o(e).book]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(b))()}]]),l((d(),u("div",null,[i(v,{text:"Chapter"}),l(s("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=a=>o(e).chapter=a),placeholder:"Chapter",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,o(e).chapter]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(b))()}]]),l((d(),u("div",null,[i(v,{text:"Verses"}),l(s("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>o(e).verses=a),placeholder:"verses",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,o(e).verses]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(b))()}]]),l((d(),u("div",null,[i(v,{text:"Notes"}),l(s("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>o(e).notes=a),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[f,o(e).notes]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(b))()}]]),s("div",te,[i(T,{text:"Save",isLoading:r.value},null,8,["isLoading"]),i(D,{text:"Cancel",path:"/dashboard/spirit",isLoading:r.value},null,8,["isLoading"]),i($,{onClick:L,text:"Delete",isLoading:r.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{pe as default};
