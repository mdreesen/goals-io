import{_ as B}from"./CUlLGUuT.js";import{_ as T}from"./mSYztmAn.js";import{_ as E}from"./BJJSekOF.js";import{_ as M,a as S}from"./C-X9a1L8.js";import{i as k}from"./THmtR4Dj.js";import{e as N,am as P,J as U,f as q,q as _,s as K,c as p,i as A,g as n,a as i,b as a,w as F,T as G,O as H,o as f,K as J,N as g,P as O,a3 as v}from"./BBuQfMQW.js";import{f as Q}from"./BGMpC11e.js";import{u as R}from"./c_q9ivfL.js";import"./kaJMkjNa.js";const j={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},z={class:"py-8"},I={class:"flex flex-col gap-8 pb-4"},ie=N({__name:"gratitudes",async setup(W){let s,l;const r=P(),{data:u,pending:x}=([s,l]=U(()=>R(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,l(),s),{fetch:d}=q(),e=_(!1);let c=_("");const o=K({gratitude:""});u.value&&(o.gratitude=u.value.gratitude);async function h(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:Q()}}).then(async()=>{await d(),await v("/dashboard/mind"),e.value=!1}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await d(),e.value=!1,await v("/dashboard/mind")}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}return(t,m)=>{const y=B,w=T,L=E,V=M,C=S,D=H("motion");return n(x)?A("",!0):(f(),p("div",j,[i("div",z,[a(y,{text:"Edit gratitiude entry"})]),a(G,{name:"slide-up",mode:"out-in"},{default:F(()=>[i("form",{onSubmit:J(h,["prevent"]),class:"space-y-6"},[g((f(),p("div",null,[a(w,{text:"Description"}),g(i("textarea",{id:"text",type:"text","onUpdate:modelValue":m[0]||(m[0]=$=>n(o).gratitude=$),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[O,n(o).gratitude]])])),[[D,{...("inputVarient"in t?t.inputVarient:n(k))()}]]),i("div",I,[a(L,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),a(C,{onClick:b,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ie as default};
