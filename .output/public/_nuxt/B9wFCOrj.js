import{_ as L}from"./D-QaPdNl.js";import{d as N,u as C,J as M,r as f,x as J,N as $,c as i,o as s,b as a,F as x,l as b,g as q,w as d,e as r,O as E,T as v,a as t,P as F,K as O,Q as u,t as A,S as P,R as y}from"./CNNffg5U.js";import{i as _,_ as K}from"./B3usRQSs.js";import{_ as Q}from"./DVW9z85d.js";import{_ as R}from"./Df7mBE7_.js";import{f as z}from"./2gKM0m1V.js";import{m as G}from"./DLgMY6mf.js";import{u as H,r as I}from"./Xy0_oFzj.js";import"./Du3dRj2w.js";import"./DvXkyWUv.js";const W={class:"container-cards"},X={class:"flex flex-col items-center justify-center w-full max-w-sm mx-auto p-8 font-sans"},Y={class:"w-full relative mb-4 flex justify-center"},Z=["value"],ee={class:"flex flex-col gap-8 pb-4"},te=N({__name:"TrackerJournal",setup(oe){const{data:w}=H("journal"),{fetch:h}=C(),V=M(),c=f(!1);let T=f("");const p=f(!1),l=J({mood:"",title:"",entry:""});async function k(){c.value=!0,$fetch("/api/user/journal/journal",{method:"POST",body:{...l,date:z()}}).then(async()=>{await h(),await I(),p.value=!1,c.value=!1}).catch(async n=>{V.error("Failed to create","Try again"),console.log(n),T.value=n.statusMessage,c.value=!1})}return(n,o)=>{const j=L,S=E,D=F,g=K,U=Q,B=R,m=$("motion");return s(),i("div",null,[a("div",W,[(s(!0),i(x,null,b(t(w).reverse(),e=>(s(),q(v,{name:"slide-up",mode:"out-in"},{default:d(()=>[r(S,{class:"flex flex-col justify-center w-full items-center",to:"/dashboard/spirit/".concat([e._id],"/journal")},{default:d(()=>[r(j,{text:e.title,icon:"material-symbols:book-5-outline-rounded",iconColor:"bg-green-500/60",iconNav:"material-symbols:arrow-forward-ios-rounded"},null,8,["text"])]),_:2},1032,["to"])]),_:2},1024))),256))]),a("div",X,[a("div",Y,[r(v,{name:"slide-up",mode:"out-in"},{default:d(()=>[r(B,{title:"Log a new journal entry",open:p.value,"onUpdate:open":o[3]||(o[3]=e=>p.value=e)},{body:d(()=>[a("form",{onSubmit:O(k,["prevent"]),class:"space-y-6"},[u((s(),i("div",null,[u(a("select",{id:"status-select","onUpdate:modelValue":o[0]||(o[0]=e=>t(l).mood=e),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[o[4]||(o[4]=a("option",{value:"",disabled:"",selected:"",hidden:""},"Choose mood",-1)),(s(!0),i(x,null,b(t(G),e=>(s(),i("option",{value:e.value,key:e.label},A(e.label),9,Z))),128))],512),[[P,t(l).mood]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),u((s(),i("div",null,[r(g,{text:"Title"}),u(a("input",{id:"text",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>t(l).title=e),placeholder:"Title",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,t(l).title]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),u((s(),i("div",null,[r(g,{text:"Entry"}),u(a("textarea",{id:"text",type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>t(l).entry=e),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,t(l).entry]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),a("div",ee,[r(U,{text:"Save",isLoading:c.value},null,8,["isLoading"])])],32)]),default:d(()=>[r(D,{label:"Add entry",color:"neutral",variant:"subtle","trailing-icon":"material-symbols:book-5"})]),_:1},8,["open"])]),_:1})])])])}}}),me=Object.assign(te,{__name:"AppTrackerJournal"});export{me as default};
