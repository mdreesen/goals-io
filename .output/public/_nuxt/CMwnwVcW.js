import{d as E,al as V,I as k,ak as M,K as A,h as p,i as F,a as m,z as N,C as i,b as l,y as a,A as R,T as W,O as S,o as h,J as U,L as H,Q as g,R as O,W as f}from"./-oKnPsBe.js";import{_ as q,i as z}from"./BiZrFXYI.js";import{_ as I}from"./-_9ZdCk8.js";import{_ as J,a as K}from"./B-eKm1VW.js";import{u as P}from"./CiVCpm_D.js";import{r as w}from"./h1wk0MG4.js";const Q={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},j={class:"py-8"},G={class:"flex flex-col gap-8 pb-4"},se=E({__name:"weight",async setup(X){let s,d;const n=V();k({title:`Ascend | Weight | ${n.params.id}`,meta:[{name:"description",content:"Ascend Weight Dashboard."}]});const{data:r,pending:x}=([s,d]=M(()=>P(`/api/user/weight/${n.params.id}`,"$sOFRUBEhlR")),s=await s,d(),s),c=A(),t=p(!1);let u=p("");const o=F({weight:""});r.value&&(o.weight=r.value?.weight);async function v(){t.value=!0,$fetch(`/api/user/weight/${n.params.id}`,{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await w(["weight","chart_weight"]),await f("/dashboard/body")}).catch(async e=>{c.error("Failed to update","Try again"),console.log(e),u.value=e.statusMessage,t.value=!1})}async function y(){t.value=!0,$fetch(`/api/user/weight/${n.params.id}`,{method:"DELETE",body:o}).then(async()=>{await w(["weight","chart_weight"]),await f("/dashboard/body")}).catch(async e=>{c.error("Failed to delete","Try again"),console.log(e),u.value=e.statusMessage,t.value=!1})}return(e,_)=>{const b=U,L=q,T=I,C=J,$=K,B=S("motion");return i(x)?N("",!0):(h(),m("div",Q,[l("div",j,[a(b,{text:"Edit weight entry"})]),a(W,{name:"slide-up",mode:"out-in"},{default:R(()=>[l("form",{onSubmit:H(v,["prevent"]),class:"space-y-6"},[g((h(),m("div",null,[a(L,{text:"Weight"}),g(l("input",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=D=>i(o).weight=D),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[O,i(o).weight]])])),[[B,{...("inputVarient"in e?e.inputVarient:i(z))()}]]),l("div",G,[a(T,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(C,{text:"Cancel",path:"/dashboard/body",isLoading:t.value},null,8,["isLoading"]),a($,{onClick:y,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{se as default};
