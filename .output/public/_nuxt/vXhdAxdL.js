import{d as B,ak as k,aj as E,J as M,h as p,i as N,a as m,z as F,C as n,b as i,y as a,A as P,T as S,N as A,o as g,I as K,K as Q,P as f,Q as U,V as x}from"./BoQ4aQpQ.js";import{_ as j,i as q}from"./CJSXPa6V.js";import{_ as z}from"./CngO2vPs.js";import{_ as G,a as H}from"./CPd_BZuc.js";import{f as I}from"./dOo_R78I.js";import{u as J}from"./CO2imVz9.js";import{r as v}from"./C80YxiFH.js";const R={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},O={class:"py-8"},W={class:"flex flex-col gap-8 pb-4"},ne=B({__name:"gratitudes",async setup(X){let s,u;const r=k(),{data:d,pending:h}=([s,u]=E(()=>J(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,u(),s),l=M(),t=p(!1);let c=p("");const o=N({gratitude:""});d.value&&(o.gratitude=d.value.gratitude);async function y(){t.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:I()}}).then(async()=>{await v("gratitudes"),await x("/dashboard/mind")}).catch(async e=>{l.error("Failed to update","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}async function b(){t.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await v("gratitudes"),await x("/dashboard/mind")}).catch(async e=>{l.error("Failed to delete","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}return(e,_)=>{const w=K,L=j,T=z,V=G,C=H,D=A("motion");return n(h)?F("",!0):(g(),m("div",R,[i("div",O,[a(w,{text:"Edit gratitiude entry"})]),a(S,{name:"slide-up",mode:"out-in"},{default:P(()=>[i("form",{onSubmit:Q(y,["prevent"]),class:"space-y-6"},[f((g(),m("div",null,[a(L,{text:"Description"}),f(i("textarea",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=$=>n(o).gratitude=$),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[U,n(o).gratitude]])])),[[D,{...("inputVarient"in e?e.inputVarient:n(q))()}]]),i("div",W,[a(T,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/mind",isLoading:t.value},null,8,["isLoading"]),a(C,{onClick:b,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ne as default};
