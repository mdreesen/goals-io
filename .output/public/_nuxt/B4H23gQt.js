import{d as E,al as F,I as M,ak as S,K as N,h,i as U,a as u,z as q,C as a,b as s,y as i,A,T as H,O as R,o as d,J as z,L as I,Q as l,F as J,r as K,t as O,S as P,R as g,W as w}from"./-oKnPsBe.js";import{i as b,_ as Q}from"./BiZrFXYI.js";import{_ as W}from"./-_9ZdCk8.js";import{_ as j,a as G}from"./B-eKm1VW.js";import{f as X}from"./dOo_R78I.js";import{b as Y}from"./h4L-lgrT.js";import{u as Z}from"./CiVCpm_D.js";import{r as V}from"./h1wk0MG4.js";const ee={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},te={class:"py-8"},ae=["value"],oe={class:"flex flex-col gap-8 pb-4"},me=E({__name:"devotional",async setup(ne){let c,_;const m=F();M({title:`Ascend | Devotional | ${m.params.id}`,meta:[{name:"description",content:"Ascend Devotional Dashboard."}]});const{data:p,pending:k}=([c,_]=S(()=>Z(`/api/user/bible/devotional/${m.params.id}`,"$37l6F0aa7h")),c=await c,_(),c),x=N(),r=h(!1);let y=h("");const e=U({type:"Devotional",book:"",chapter:"",verses:"",notes:""});p.value&&(e.type=p.value.type,e.book=p.value.book_title,e.chapter=p.value.chapter,e.verses=p.value.verses,e.notes=p.value.notes);async function D(){r.value=!0,$fetch(`/api/user/bible/devotional/${m.params.id}`,{method:"PUT",body:{...e,date:X()}}).then(async()=>{await V("devotional"),await w("/dashboard/spirit")}).catch(async t=>{x.error("Failed to update","Try again"),console.log(t),y.value=t.statusMessage,r.value=!1})}async function C(){r.value=!0,$fetch(`/api/user/bible/devotional/${m.params.id}`,{method:"DELETE",body:e}).then(async()=>{await V("devotional"),await w("/dashboard/spirit")}).catch(async t=>{x.error("Failed to delete","Try again"),console.log(t),y.value=t.statusMessage,r.value=!1})}return(t,n)=>{const L=z,f=Q,T=W,$=j,B=G,v=R("motion");return a(k)?q("",!0):(d(),u("div",ee,[s("div",te,[i(L,{text:"Edit devotional entry"})]),i(H,{name:"slide-up",mode:"out-in"},{default:A(()=>[s("form",{onSubmit:I(D,["prevent"]),class:"space-y-6"},[l((d(),u("div",null,[l(s("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=o=>a(e).book=o),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=s("option",{value:"",disabled:"",selected:"",hidden:""},"Choose book",-1)),(d(!0),u(J,null,K(a(Y),o=>(d(),u("option",{value:o.value,key:o.label},O(o.label),9,ae))),128))],512),[[P,a(e).book]])])),[[v,{...("inputVarient"in t?t.inputVarient:a(b))()}]]),l((d(),u("div",null,[i(f,{text:"Chapter"}),l(s("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=o=>a(e).chapter=o),placeholder:"Chapter",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).chapter]])])),[[v,{...("inputVarient"in t?t.inputVarient:a(b))()}]]),l((d(),u("div",null,[i(f,{text:"Verses"}),l(s("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=o=>a(e).verses=o),placeholder:"verses",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).verses]])])),[[v,{...("inputVarient"in t?t.inputVarient:a(b))()}]]),l((d(),u("div",null,[i(f,{text:"Notes"}),l(s("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=o=>a(e).notes=o),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[g,a(e).notes]])])),[[v,{...("inputVarient"in t?t.inputVarient:a(b))()}]]),s("div",oe,[i(T,{text:"Save",isLoading:r.value},null,8,["isLoading"]),i($,{text:"Cancel",path:"/dashboard/spirit",isLoading:r.value},null,8,["isLoading"]),i(B,{onClick:C,text:"Delete",isLoading:r.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{me as default};
