import{d as B,al as k,I as E,ak as M,K as A,h as p,i as N,a as _,z as F,C as i,b as r,y as a,A as G,T as S,O as H,o as g,J as K,L as P,Q as f,R as Q,W as x}from"./-oKnPsBe.js";import{_ as R,i as U}from"./BiZrFXYI.js";import{_ as q}from"./-_9ZdCk8.js";import{_ as z,a as I}from"./B-eKm1VW.js";import{f as J}from"./dOo_R78I.js";import{u as O}from"./CiVCpm_D.js";import{r as h}from"./h1wk0MG4.js";const W={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},j={class:"py-8"},X={class:"flex flex-col gap-8 pb-4"},ie=B({__name:"gratitudes",async setup(Y){let s,d;const n=k();E({title:`Ascend | Gratitude | ${n.params.id}`,meta:[{name:"description",content:"Ascend Gratitude Dashboard."}]});const{data:u,pending:v}=([s,d]=M(()=>O(`/api/user/gratitudes/${n.params.id}`,"$VQ_al7K81P")),s=await s,d(),s),l=A(),t=p(!1);let c=p("");const o=N({gratitude:""});u.value&&(o.gratitude=u.value.gratitude);async function y(){t.value=!0,$fetch(`/api/user/gratitudes/${n.params.id}`,{method:"PUT",body:{...o,date:J()}}).then(async()=>{await h("gratitudes"),await x("/dashboard/mind")}).catch(async e=>{l.error("Failed to update","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}async function b(){t.value=!0,$fetch(`/api/user/gratitudes/${n.params.id}`,{method:"DELETE",body:o}).then(async()=>{await h("gratitudes"),await x("/dashboard/mind")}).catch(async e=>{l.error("Failed to delete","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}return(e,m)=>{const w=K,L=R,D=q,T=z,C=I,V=H("motion");return i(v)?F("",!0):(g(),_("div",W,[r("div",j,[a(w,{text:"Edit gratitiude entry"})]),a(S,{name:"slide-up",mode:"out-in"},{default:G(()=>[r("form",{onSubmit:P(y,["prevent"]),class:"space-y-6"},[f((g(),_("div",null,[a(L,{text:"Description"}),f(r("textarea",{id:"text",type:"text","onUpdate:modelValue":m[0]||(m[0]=$=>i(o).gratitude=$),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,i(o).gratitude]])])),[[V,{...("inputVarient"in e?e.inputVarient:i(U))()}]]),r("div",X,[a(D,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(T,{text:"Cancel",path:"/dashboard/mind",isLoading:t.value},null,8,["isLoading"]),a(C,{onClick:b,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ie as default};
