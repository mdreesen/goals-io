import{_ as q}from"./HU4Mgv1h.js";import{i as f,_ as B}from"./P5oq7zqO.js";import{_ as E}from"./DsnQ0KF8.js";import{_ as N,a as U}from"./CMjz7fwZ.js";import{e as F,am as j,an as I,f as O,J as P,q as w,s as A,c as u,i as H,g as a,a as i,b as r,w as J,T as K,M as Q,o as d,K as R,O as l,F as X,r as z,t as G,Q as W,P as v,a3 as V}from"./C6hJL-sY.js";import{f as Y}from"./BGMpC11e.js";import{b as Z}from"./DLgMY6mf.js";import{u as ee}from"./XPEaYAeC.js";import{r as k}from"./BWc4nruB.js";const te={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},ae={class:"py-8"},oe=["value"],ne={class:"flex flex-col gap-8 pb-4"},ge=F({__name:"sermon",async setup(se){let c,_;const g=j(),{data:p,pending:L}=([c,_]=I(()=>ee(`/api/user/journal/${g.params.id}`,"$5OXwIqLNIj")),c=await c,_(),c),{fetch:x}=O(),y=P(),s=w(!1);let h=w("");const e=A({type:"Sermon",book:"",chapter:"",verses:"",notes:""});p.value&&(e.type=p.value.type,e.book=p.value.book_title,e.chapter=p.value.chapter,e.verses=p.value.verses,e.notes=p.value.notes);async function C(){s.value=!0,$fetch(`/api/user/bible/sermon/${g.params.id}`,{method:"PUT",body:{...e,date:Y()}}).then(async()=>{await x(),await k(),await V("/dashboard/spirit"),s.value=!1}).catch(async t=>{y.error("Failed to update","Try again"),console.log(t),h.value=t.statusMessage,s.value=!1})}async function T(){s.value=!0,$fetch(`/api/user/bible/devotional/${g.params.id}`,{method:"DELETE",body:e}).then(async()=>{await x(),await k(),await V("/dashboard/spirit"),s.value=!1}).catch(async t=>{y.error("Failed to delete","Try again"),console.log(t),h.value=t.statusMessage,s.value=!1})}return(t,n)=>{const D=q,b=B,S=E,M=N,$=U,m=Q("motion");return a(L)?H("",!0):(d(),u("div",te,[i("div",ae,[r(D,{text:"Edit sermon entry"})]),r(K,{name:"slide-up",mode:"out-in"},{default:J(()=>[i("form",{onSubmit:R(C,["prevent"]),class:"space-y-6"},[l((d(),u("div",null,[l(i("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=o=>a(e).book=o),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=i("option",{value:"",disabled:"",selected:"",hidden:""},"Choose book",-1)),(d(!0),u(X,null,z(a(Z),o=>(d(),u("option",{value:o.value,key:o.label},G(o.label),9,oe))),128))],512),[[W,a(e).book]])])),[[m,{...("inputVarient"in t?t.inputVarient:a(f))()}]]),l((d(),u("div",null,[r(b,{text:"Chapter"}),l(i("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=o=>a(e).chapter=o),placeholder:"Chapter",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[v,a(e).chapter]])])),[[m,{...("inputVarient"in t?t.inputVarient:a(f))()}]]),l((d(),u("div",null,[r(b,{text:"Verses"}),l(i("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=o=>a(e).verses=o),placeholder:"verses",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[v,a(e).verses]])])),[[m,{...("inputVarient"in t?t.inputVarient:a(f))()}]]),l((d(),u("div",null,[r(b,{text:"Notes"}),l(i("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=o=>a(e).notes=o),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[v,a(e).notes]])])),[[m,{...("inputVarient"in t?t.inputVarient:a(f))()}]]),i("div",ne,[r(S,{text:"Save",isLoading:s.value},null,8,["isLoading"]),r(M,{text:"Cancel",path:"/dashboard/spirit",isLoading:s.value},null,8,["isLoading"]),r($,{onClick:T,text:"Delete",isLoading:s.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ge as default};
