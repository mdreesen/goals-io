import{d as $,ak as B,w as k,K as E,r as p,y as M,c as m,e as F,a as n,b as i,l as a,h as N,T as S,O as K,o as g,_ as P,L as Q,Q as f,R,V as x}from"./9QuXeOnr.js";import{_ as U,i as q}from"./DSR5PMIA.js";import{_ as A}from"./9iD6FqPs.js";import{_ as G,a as H}from"./DPpLVmvz.js";import{f as O}from"./dOo_R78I.js";import{u as j}from"./lyfeCnrl.js";import"./BumVwqsu.js";const z={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},I={class:"py-8"},J={class:"flex flex-col gap-8 pb-4"},se=$({__name:"gratitudes",async setup(W){let s,l;const r=B(),{data:u,pending:v}=([s,l]=k(()=>j(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,l(),s),d=E(),t=p(!1);let c=p("");const o=M({gratitude:""});u.value&&(o.gratitude=u.value.gratitude);async function h(){t.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:O()}}).then(async()=>{await x("/dashboard/mind")}).catch(async e=>{d.error("Failed to update","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}async function y(){t.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await x("/dashboard/mind")}).catch(async e=>{d.error("Failed to delete","Try again"),console.log(e),c.value=e.statusMessage,t.value=!1})}return(e,_)=>{const b=P,w=U,L=A,T=G,V=H,C=K("motion");return n(v)?F("",!0):(g(),m("div",z,[i("div",I,[a(b,{text:"Edit gratitiude entry"})]),a(S,{name:"slide-up",mode:"out-in"},{default:N(()=>[i("form",{onSubmit:Q(h,["prevent"]),class:"space-y-6"},[f((g(),m("div",null,[a(w,{text:"Description"}),f(i("textarea",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=D=>n(o).gratitude=D),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[R,n(o).gratitude]])])),[[C,{...("inputVarient"in e?e.inputVarient:n(q))()}]]),i("div",J,[a(L,{text:"Save",isLoading:t.value},null,8,["isLoading"]),a(T,{text:"Cancel",path:"/dashboard/mind",isLoading:t.value},null,8,["isLoading"]),a(V,{onClick:y,text:"Delete",isLoading:t.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{se as default};
