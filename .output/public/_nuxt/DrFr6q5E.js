import{_ as T}from"./CMOc2q_o.js";import{_ as E,i as M}from"./CNijdPjE.js";import{_ as N}from"./Bq4ob9U8.js";import{_ as S,a as k}from"./DSSl_YfA.js";import{e as U,al as q,am as P,f as A,q as m,s as F,c as p,i as G,g as n,a as i,b as a,w as H,T as J,L as K,o as f,J as O,N as g,O as Q,a2 as v}from"./BEyeSzlM.js";import{f as R}from"./BGMpC11e.js";import{u as j}from"./Dm0f3PyT.js";import{r as x}from"./DN2Mt0TH.js";const z={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},I={class:"py-8"},W={class:"flex flex-col gap-8 pb-4"},ie=U({__name:"gratitudes",async setup(X){let o,l;const r=q(),{data:u,pending:h}=([o,l]=P(()=>j(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),o=await o,l(),o),{fetch:d}=A(),e=m(!1);let c=m("");const s=F({gratitude:""});u.value&&(s.gratitude=u.value.gratitude);async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...s,date:R()}}).then(async()=>{await d(),await x(),await v("/dashboard/mind"),e.value=!1}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}async function w(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:s}).then(async()=>{await d(),await x(),e.value=!1,await v("/dashboard/mind")}).catch(async t=>{console.log(t),c.value=t.statusMessage,e.value=!1})}return(t,_)=>{const y=T,L=E,D=N,V=S,C=k,$=K("motion");return n(h)?G("",!0):(f(),p("div",z,[i("div",I,[a(y,{text:"Edit gratitiude entry"})]),a(J,{name:"slide-up",mode:"out-in"},{default:H(()=>[i("form",{onSubmit:O(b,["prevent"]),class:"space-y-6"},[g((f(),p("div",null,[a(L,{text:"Description"}),g(i("textarea",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=B=>n(s).gratitude=B),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,n(s).gratitude]])])),[[$,{...("inputVarient"in t?t.inputVarient:n(M))()}]]),i("div",W,[a(D,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),a(C,{onClick:w,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ie as default};
