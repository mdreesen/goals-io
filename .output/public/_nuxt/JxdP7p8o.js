import{_ as $}from"./CUlLGUuT.js";import{_ as T}from"./mSYztmAn.js";import{_ as D}from"./BJJSekOF.js";import{_ as M,a as S}from"./C-X9a1L8.js";import{i as k}from"./THmtR4Dj.js";import{e as N,am as U,J as R,f as q,q as p,s as F,c as m,i as O,g as n,a as i,b as a,w as P,T as A,O as H,o as f,K as J,N as g,P as K,a3 as h}from"./BBuQfMQW.js";import{u as W}from"./c_q9ivfL.js";import"./kaJMkjNa.js";const j={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},z={class:"py-8"},G={class:"flex flex-col gap-8 pb-4"},se=N({__name:"weight",async setup(I){let s,u;const l=U(),{data:r,pending:v}=([s,u]=R(()=>W(`/api/user/weight/${l.params.id}`,"$sOFRUBEhlR")),s=await s,u(),s),{fetch:c}=q(),e=p(!1);let d=p("");const o=F({weight:""});r.value&&(o.weight=r.value?.weight);async function x(){e.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await c(),await h("/dashboard/body"),e.value=!1}).catch(async t=>{console.log(t),d.value=t.statusMessage,e.value=!1})}async function w(){e.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"DELETE",body:o}).then(async()=>{await c(),e.value=!1,await h("/dashboard/body")}).catch(async t=>{console.log(t),d.value=t.statusMessage,e.value=!1})}return(t,_)=>{const b=$,y=T,L=D,B=M,C=S,E=H("motion");return n(v)?O("",!0):(f(),m("div",j,[i("div",z,[a(b,{text:"Edit weight entry"})]),a(A,{name:"slide-up",mode:"out-in"},{default:P(()=>[i("form",{onSubmit:J(x,["prevent"]),class:"space-y-6"},[g((f(),m("div",null,[a(y,{text:"Weight"}),g(i("input",{id:"text",type:"text","onUpdate:modelValue":_[0]||(_[0]=V=>n(o).weight=V),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,n(o).weight]])])),[[E,{...("inputVarient"in t?t.inputVarient:n(k))()}]]),i("div",G,[a(L,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(B,{text:"Cancel",path:"/dashboard/body",isLoading:e.value},null,8,["isLoading"]),a(C,{onClick:w,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{se as default};
