import{_ as M}from"./HU4Mgv1h.js";import{_ as E,i as S}from"./P5oq7zqO.js";import{_ as k}from"./DsnQ0KF8.js";import{_ as N,a as F}from"./CMjz7fwZ.js";import{e as P,am as U,an as q,f as K,J as A,q as p,s as G,c as f,i as H,g as n,a as i,b as a,w as J,T as O,M as Q,o as g,K as R,O as v,P as j,a3 as x}from"./C6hJL-sY.js";import{f as z}from"./BGMpC11e.js";import{u as I}from"./XPEaYAeC.js";import{r as h}from"./BWc4nruB.js";const W={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},X={class:"py-8"},Y={class:"flex flex-col gap-8 pb-4"},le=P({__name:"gratitudes",async setup(Z){let s,l;const r=U(),{data:u,pending:y}=([s,l]=q(()=>I(`/api/user/gratitudes/${r.params.id}`,"$VQ_al7K81P")),s=await s,l(),s),{fetch:d}=K(),c=A(),e=p(!1);let _=p("");const o=G({gratitude:""});u.value&&(o.gratitude=u.value.gratitude);async function b(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"PUT",body:{...o,date:z()}}).then(async()=>{await d(),await h(),await x("/dashboard/mind"),e.value=!1}).catch(async t=>{c.error("Failed to update","Try again"),console.log(t),_.value=t.statusMessage,e.value=!1})}async function w(){e.value=!0,$fetch(`/api/user/gratitudes/${r.params.id}`,{method:"DELETE",body:o}).then(async()=>{await d(),await h(),await x("/dashboard/mind"),e.value=!1}).catch(async t=>{c.error("Failed to delete","Try again"),console.log(t),_.value=t.statusMessage,e.value=!1})}return(t,m)=>{const L=M,T=E,D=k,V=N,C=F,$=Q("motion");return n(y)?H("",!0):(g(),f("div",W,[i("div",X,[a(L,{text:"Edit gratitiude entry"})]),a(O,{name:"slide-up",mode:"out-in"},{default:J(()=>[i("form",{onSubmit:R(b,["prevent"]),class:"space-y-6"},[v((g(),f("div",null,[a(T,{text:"Description"}),v(i("textarea",{id:"text",type:"text","onUpdate:modelValue":m[0]||(m[0]=B=>n(o).gratitude=B),placeholder:"Gratitude",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,n(o).gratitude]])])),[[$,{...("inputVarient"in t?t.inputVarient:n(S))()}]]),i("div",Y,[a(D,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(V,{text:"Cancel",path:"/dashboard/mind",isLoading:e.value},null,8,["isLoading"]),a(C,{onClick:w,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{le as default};
