import{d as E,ak as M,aj as S,J as F,h as w,i as N,a as u,z as U,C as o,b as s,y as i,A as q,T as R,N as A,o as d,I as K,K as P,P as r,F as j,r as z,t as H,R as I,Q as _,V as h}from"./BoQ4aQpQ.js";import{i as g,_ as J}from"./CJSXPa6V.js";import{_ as Q}from"./CngO2vPs.js";import{_ as Y,a as G}from"./CPd_BZuc.js";import{f as O}from"./dOo_R78I.js";import{w as W}from"./h4L-lgrT.js";import{u as X}from"./CO2imVz9.js";import{r as k}from"./C80YxiFH.js";const Z={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},ee={class:"py-8"},te=["value"],oe={class:"flex flex-col gap-8 pb-4"},ce=E({__name:"workout",async setup(ae){let c,x;const f=M(),{data:p,pending:V}=([c,x]=S(()=>X(`/api/user/workout/${f.params.id}`,"$KRlmRlTL6l")),c=await c,x(),c),b=F(),l=w(!1);let v=w("");const e=N({description:"",duration:"",sets:"",type:""});p.value&&(e.description=p.value.description,e.duration=p.value.duration,e.sets=p.value.sets,e.type=p.value.type);async function L(){l.value=!0,$fetch(`/api/user/workout/${f.params.id}`,{method:"PUT",body:{...e,date:O()}}).then(async()=>{await k(["workout","chart_workout"]),await h("/dashboard/body")}).catch(async t=>{b.error("Failed to update","Try again"),console.log(t),v.value=t.statusMessage,l.value=!1})}async function D(){l.value=!0,$fetch(`/api/user/workout/${f.params.id}`,{method:"DELETE",body:e}).then(async()=>{await k(["workout","chart_workout"]),await h("/dashboard/body")}).catch(async t=>{b.error("Failed to delete","Try again"),console.log(t),v.value=t.statusMessage,l.value=!1})}return(t,n)=>{const T=K,y=J,C=Q,$=Y,B=G,m=A("motion");return o(V)?U("",!0):(d(),u("div",Z,[s("div",ee,[i(T,{text:"Edit workout entry"})]),i(R,{name:"slide-up",mode:"out-in"},{default:q(()=>[s("form",{onSubmit:P(L,["prevent"]),class:"space-y-6"},[r((d(),u("div",null,[r(s("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=a=>o(e).type=a),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=s("option",{value:"",disabled:"",selected:"",hidden:""},"Choose workout",-1)),(d(!0),u(j,null,z(o(W),a=>(d(),u("option",{value:a.value,key:a.label},H(a.label),9,te))),128))],512),[[I,o(e).type]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(g))()}]]),r((d(),u("div",null,[i(y,{text:"Duration (in minutes)"}),r(s("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=a=>o(e).duration=a),placeholder:"Example: 60",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,o(e).duration]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(g))()}]]),r((d(),u("div",null,[i(y,{text:"Description"}),r(s("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>o(e).description=a),placeholder:"Legs, arms, core...",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,o(e).description]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(g))()}]]),r((d(),u("div",null,[i(y,{text:"Sets"}),r(s("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>o(e).sets=a),placeholder:"Your workout sets",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[_,o(e).sets]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(g))()}]]),s("div",oe,[i(C,{text:"Save",isLoading:l.value},null,8,["isLoading"]),i($,{text:"Cancel",path:"/dashboard/body",isLoading:l.value},null,8,["isLoading"]),i(B,{onClick:D,text:"Delete",isLoading:l.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ce as default};
