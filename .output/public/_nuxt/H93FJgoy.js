import{_ as $}from"./HU4Mgv1h.js";import{_ as D,i as M}from"./P5oq7zqO.js";import{_ as S}from"./DsnQ0KF8.js";import{_ as k,a as F}from"./CMjz7fwZ.js";import{e as N,am as U,an as R,f as q,J as O,q as m,s as P,c as f,i as A,g as n,a as i,b as a,w as H,T as J,M as K,o as g,K as W,O as h,P as j,a3 as v}from"./C6hJL-sY.js";import{u as z}from"./XPEaYAeC.js";import{r as G}from"./BWc4nruB.js";const I={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},Q={class:"py-8"},X={class:"flex flex-col gap-8 pb-4"},ie=N({__name:"weight",async setup(Y){let s,u;const l=U(),{data:r,pending:x}=([s,u]=R(()=>z(`/api/user/weight/${l.params.id}`,"$sOFRUBEhlR")),s=await s,u(),s),{fetch:c}=q(),d=O(),e=m(!1);let _=m("");const o=P({weight:""});r.value&&(o.weight=r.value?.weight);async function w(){e.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"PUT",body:{...o,date:r.value.date}}).then(async()=>{await c(),await G(),await v("/dashboard/body"),e.value=!1}).catch(async t=>{d.error("Failed to update","Try again"),console.log(t),_.value=t.statusMessage,e.value=!1})}async function y(){e.value=!0,$fetch(`/api/user/weight/${l.params.id}`,{method:"DELETE",body:o}).then(async()=>{await c(),e.value=!1,await v("/dashboard/body")}).catch(async t=>{d.error("Failed to delete","Try again"),console.log(t),_.value=t.statusMessage,e.value=!1})}return(t,p)=>{const b=$,L=D,T=S,B=k,C=F,E=K("motion");return n(x)?A("",!0):(g(),f("div",I,[i("div",Q,[a(b,{text:"Edit weight entry"})]),a(J,{name:"slide-up",mode:"out-in"},{default:H(()=>[i("form",{onSubmit:W(w,["prevent"]),class:"space-y-6"},[h((g(),f("div",null,[a(L,{text:"Weight"}),h(i("input",{id:"text",type:"text","onUpdate:modelValue":p[0]||(p[0]=V=>n(o).weight=V),placeholder:"Example: 180.5",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,n(o).weight]])])),[[E,{...("inputVarient"in t?t.inputVarient:n(M))()}]]),i("div",X,[a(T,{text:"Save",isLoading:e.value},null,8,["isLoading"]),a(B,{text:"Cancel",path:"/dashboard/body",isLoading:e.value},null,8,["isLoading"]),a(C,{onClick:y,text:"Delete",isLoading:e.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ie as default};
