import{f as N,c as R,i,_ as S}from"./BiZrFXYI.js";import{d as P,I as T,h as f,V as z,al as D,K as L,i as M,X as A,a,b as t,Q as o,O as B,C as s,z as O,E as w,N as g,t as y,L as U,y as m,R as v,A as j,P as q,o as r,W as E}from"./-oKnPsBe.js";import{r as I}from"./h1wk0MG4.js";const W={class:"relative flex min-h-screen items-center justify-center bg-gray-950 p-4 overflow-hidden"},$={class:"flex flex-col items-center gap-8"},H={class:"text-center"},K=["disabled"],Q={class:"relative flex items-center justify-center py-4"},X={class:"text-center"},F={class:"text-gray-400 text-sm"},te=P({__name:"resetpassword",setup(G){T({title:"Ascend | Resetting Password",meta:[{name:"description",content:"Ascend Resetting Password."}]});const x=f(),l=f(!1);let u=f("");const{fetch:_}=z(),h=D().params.id,V=L(),d=M({password:"",confirm_password:""});async function k(){l.value=!0,$fetch("/api/authentication/reset",{method:"POST",body:{...d,token:h}}).then(async()=>{await _(),await I(),await E("/login"),l.value=!1}).catch(async c=>{V.error("Reset password failed","Try again"),console.log(c),u.value=c.statusMessage,l.value=!1})}return A(x,{...N()}),(c,e)=>{const b=S,C=q,n=B("motion");return r(),a("div",W,[e[6]||(e[6]=t("div",{class:"absolute inset-0 z-0 bg-linear-to-br from-gray-950 via-gray-800 to-purple-950 opacity-70"},null,-1)),t("section",$,[o((r(),a("div",H,[...e[2]||(e[2]=[t("h1",{class:"flex flex-col text-4xl sm:text-6xl font-extrabold text-white leading-tight"},[t("span",null,"Welcome to"),t("span",{class:"bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-400"}," ASCÎžND ")],-1),t("p",{class:"mt-2 text-lg sm:text-xl text-gray-400"},"Create a new password",-1)])])),[[n,{...s(R)()}]]),t("div",{ref_key:"formRef",ref:x,class:"relative z-20 w-full rounded-3xl border border-gray-700 bg-gray-800/50 p-8 shadow-2xl backdrop-blur-md space-y-6 transform transition-all duration-300"},[s(u)?o((r(),a("div",{key:0,class:w(["text-center py-2 px-4 rounded-lg","bg-red-600/30 text-red-400"])},[g(y(s(u)),1)])),[[n,{...s(i)()}]]):O("",!0),t("form",{onSubmit:U(k,["prevent"]),class:"space-y-6"},[o((r(),a("div",null,[m(b,{text:"Password"}),o(t("input",{id:"password",type:"password","onUpdate:modelValue":e[0]||(e[0]=p=>s(d).password=p),placeholder:"Password",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[v,s(d).password]])])),[[n,{...s(i)()}]]),o((r(),a("div",null,[m(b,{text:"Confirm password"}),o(t("input",{id:"confirm_password",type:"password","onUpdate:modelValue":e[1]||(e[1]=p=>s(d).confirm_password=p),placeholder:"Confirm password",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[v,s(d).confirm_password]])])),[[n,{...s(i)()}]]),o((r(),a("div",null,[t("button",{type:"submit",disabled:l.value,class:w(`${l.value?"bg-linear-to-r from-gray-500 to-gray-600":"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900"} w-full rounded-xl py-3 text-lg font-semibold text-white shadow-lg transition-all duration-300 ease-in-out`)},y(l.value?"Submitting...":"Submit"),11,K)])),[[n,{...s(i)()}]])],32),o((r(),a("div",Q,[...e[3]||(e[3]=[t("div",{class:"absolute w-full border-t border-gray-700"},null,-1),t("span",{class:"relative z-10 bg-gray-800/80 backdrop-blur-md px-4 text-gray-400 text-sm"},"OR",-1)])])),[[n,{...s(i)()}]]),o((r(),a("div",X,[t("p",F,[e[5]||(e[5]=g(" Log into your account ",-1)),m(C,{to:"/login",class:"text-blue-400 hover:underline transition-colors"},{default:j(()=>[...e[4]||(e[4]=[g("log in ",-1)])]),_:1})])])),[[n,{...s(i)()}]])],512)])])}}});export{te as default};
