import{f as U,c as $,i as r,_ as j}from"./Dwf6CZ6v.js";import{e as B,q as x,f as C,s as h,a4 as E,c as a,a as t,N as s,L as R,g as e,i as z,n as S,d as v,t as V,J as L,b as u,O as b,w as y,T as O,_ as P,o as n,M as I,a3 as W}from"./Bl_-gOsS.js";import{_ as A}from"./BZwgZqGS.js";import{_ as F}from"./D7fWUyeX.js";import{r as J}from"./DP4bqQc7.js";import"./DvXkyWUv.js";const Q={class:"relative flex min-h-screen items-center justify-center bg-gray-950 p-4 overflow-hidden"},G={class:"flex flex-col items-center gap-8"},H={class:"text-center"},K={class:"flex flex-col items-center justify-center w-full max-w-sm mx-auto font-sans"},X={class:"w-full relative flex justify-end"},Y={class:"flex flex-col gap-8 pb-4"},Z=["disabled"],ee={class:"relative flex items-center justify-center py-4"},te={class:"text-center"},oe={class:"text-gray-400 text-sm"},de=B({__name:"login",setup(se){const _=x();x("");const l=x(!1);let g=x("");const{fetch:w}=C(),f=h({email:"",password:""}),p=h({email:"",question:""});async function q(){l.value=!0,$fetch("/api/authentication/login",{method:"POST",body:f}).then(async()=>{await w(),await W("/dashboard"),l.value=!1}).catch(async c=>{console.log(c),g.value=c.statusMessage,l.value=!1})}async function k(){l.value=!0,$fetch("/api/authentication/forgot",{method:"POST",body:{...p}}).then(async()=>{await w(),await J(),l.value=!1}).catch(async c=>{console.log(c),g.value=c.statusMessage,l.value=!1})}return E(_,{...U()}),(c,o)=>{const m=j,N=I,T=A,D=F,M=P,i=R("motion");return n(),a("div",Q,[o[8]||(o[8]=t("div",{class:"absolute inset-0 z-0 bg-linear-to-br from-gray-950 via-gray-800 to-purple-950 opacity-70"},null,-1)),t("section",G,[s((n(),a("div",H,[...o[4]||(o[4]=[t("h1",{class:"flex flex-col text-4xl sm:text-6xl font-extrabold text-white leading-tight"},[t("span",null,"Welcome to"),t("span",{class:"bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-400"}," ASCÎžND ")],-1),t("p",{class:"mt-2 text-lg sm:text-xl text-gray-400"},"Log in to unlock your journey.",-1)])])),[[i,{...e($)()}]]),t("div",{ref_key:"formRef",ref:_,class:"relative z-20 w-full max-w-sm rounded-3xl border border-gray-700 bg-gray-800/50 p-8 shadow-2xl backdrop-blur-md space-y-6 transform transition-all duration-300"},[e(g)?s((n(),a("div",{key:0,class:S(["text-center py-2 px-4 rounded-lg","bg-red-600/30 text-red-400"])},[v(V(e(g)),1)])),[[i,{...e(r)()}]]):z("",!0),t("form",{onSubmit:L(q,["prevent"]),class:"space-y-6"},[s((n(),a("div",null,[u(m,{text:"Email"}),s(t("input",{id:"email",type:"email","onUpdate:modelValue":o[0]||(o[0]=d=>e(f).email=d),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,e(f).email]])])),[[i,{...e(r)()}]]),s((n(),a("div",null,[u(m,{text:"Password"}),s(t("input",{id:"password",type:"password","onUpdate:modelValue":o[1]||(o[1]=d=>e(f).password=d),placeholder:"Password",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,e(f).password]])])),[[i,{...e(r)()}]]),s((n(),a("div",K,[t("div",X,[u(O,{name:"slide-up",mode:"out-in"},{default:y(()=>[u(D,{title:"Reset your password"},{body:y(()=>[t("form",{onSubmit:L(k,["prevent"]),class:"space-y-6"},[s((n(),a("div",null,[u(m,{text:"Email"}),s(t("input",{id:"email",type:"email","onUpdate:modelValue":o[2]||(o[2]=d=>e(p).email=d),placeholder:"Email",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,e(p).email]])])),[[i,{...e(r)()}]]),s((n(),a("div",null,[u(m,{text:"Question"}),s(t("input",{id:"question",type:"text","onUpdate:modelValue":o[3]||(o[3]=d=>e(p).question=d),placeholder:"What is 4 + 3",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[b,e(p).question]])])),[[i,{...e(r)()}]]),t("div",Y,[u(T,{text:"Reset",isLoading:l.value,isLoadingText:"Submitting..."},null,8,["isLoading"])])],32)]),default:y(()=>[u(N,{label:"Forgot password",color:"neutral",variant:"subtle"})]),_:1})]),_:1})])])),[[i,{...e(r)()}]]),s((n(),a("div",null,[t("button",{type:"submit",disabled:l.value,class:S(`${l.value?"bg-linear-to-r from-gray-500 to-gray-600":"bg-linear-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 hover:scale-[1.02] focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-900"} w-full rounded-xl py-3 text-lg font-semibold text-white shadow-lg transition-all duration-300 ease-in-out`)},V(l.value?"Logging In...":"Log In"),11,Z)])),[[i,{...e(r)()}]])],32),s((n(),a("div",ee,[...o[5]||(o[5]=[t("div",{class:"absolute w-full border-t border-gray-700"},null,-1),t("span",{class:"relative z-10 bg-gray-800/80 backdrop-blur-md px-4 text-gray-400 text-sm"},"OR",-1)])])),[[i,{...e(r)()}]]),s((n(),a("div",te,[t("p",oe,[o[7]||(o[7]=v(" Don't have an account? ",-1)),u(M,{to:"/signup",class:"text-blue-400 hover:underline transition-colors"},{default:y(()=>[...o[6]||(o[6]=[v("Sign up",-1)])]),_:1})])])),[[i,{...e(r)()}]])],512)])])}}});export{de as default};
