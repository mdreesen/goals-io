import{_ as M}from"./pG6WuM5j.js";import{d as E,w as F,u as $,K as q,r as f,y as A,O as J,c as i,o as r,b as a,F as b,m as v,g as O,h as d,e as s,P as z,T as w,a as t,L as P,Q as u,t as Q,S as K,R as h}from"./k8T7zV5X.js";import{_ as R,a as G}from"./pnumPimh.js";import{i as _,_ as H}from"./C6cLnUr-.js";import{_ as I}from"./_kXwMX1L.js";import{_ as W}from"./d6HicHHT.js";import{f as X}from"./dOo_R78I.js";import{m as Y}from"./h4L-lgrT.js";import{u as Z}from"./nxf7Hs_6.js";import{u as ee,r as te}from"./CKVP_4HD.js";import"./DbKDm4O0.js";import"./BXwB8wQH.js";const oe={class:"container-cards"},ne={class:"flex flex-col items-center justify-center w-full mx-auto p-8 font-sans"},ae={class:"w-full relative mb-4 flex flex-col justify-center items-center gap-4"},se=["value"],re={class:"flex flex-col gap-8 pb-4"},le=E({__name:"TrackerJournal",async setup(ie){let x,g;[x,g]=F(()=>Z("/api/user/journal/journal",{key:"journal",lazy:!0},"$veQ4EUSzfu")),await x,g();const{data:j}=ee("journal"),{fetch:V}=$(),k=q(),c=f(!1);let T=f("");const p=f(!1),l=A({mood:"",title:"",entry:""});async function S(){c.value=!0,$fetch("/api/user/journal/journal",{method:"POST",body:{...l,date:X()}}).then(async()=>{await V(),await te(),p.value=!1,c.value=!1}).catch(async n=>{k.error("Failed to create","Try again"),console.log(n),T.value=n.statusMessage,c.value=!1})}return(n,o)=>{const D=M,B=z,L=R,U=G,y=H,C=I,N=W,m=J("motion");return r(),i("div",null,[a("div",oe,[(r(!0),i(b,null,v(t(j).reverse(),e=>(r(),O(w,{name:"slide-up",mode:"out-in"},{default:d(()=>[s(B,{class:"flex flex-col justify-center w-full items-center",to:`/dashboard/spirit/${[e._id]}/journal`},{default:d(()=>[s(D,{text:e.title,icon:"material-symbols:book-5-outline-rounded",iconColor:"bg-green-500/60",iconNav:"material-symbols:arrow-forward-ios-rounded"},null,8,["text"])]),_:2},1032,["to"])]),_:2},1024))),256))]),a("div",ne,[a("div",ae,[s(w,{name:"slide-up",mode:"out-in"},{default:d(()=>[s(N,{title:"Log a new journal entry",open:p.value,"onUpdate:open":o[3]||(o[3]=e=>p.value=e)},{body:d(()=>[a("form",{onSubmit:P(S,["prevent"]),class:"space-y-6"},[u((r(),i("div",null,[u(a("select",{id:"status-select","onUpdate:modelValue":o[0]||(o[0]=e=>t(l).mood=e),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[o[4]||(o[4]=a("option",{value:"",disabled:"",selected:"",hidden:""},"Choose mood",-1)),(r(!0),i(b,null,v(t(Y),e=>(r(),i("option",{value:e.value,key:e.label},Q(e.label),9,se))),128))],512),[[K,t(l).mood]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),u((r(),i("div",null,[s(y,{text:"Title"}),u(a("input",{id:"text",type:"text","onUpdate:modelValue":o[1]||(o[1]=e=>t(l).title=e),placeholder:"Title",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[h,t(l).title]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),u((r(),i("div",null,[s(y,{text:"Entry"}),u(a("textarea",{id:"text",type:"text","onUpdate:modelValue":o[2]||(o[2]=e=>t(l).entry=e),placeholder:"Entry",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[h,t(l).entry]])])),[[m,{...("inputVarient"in n?n.inputVarient:t(_))()}]]),a("div",re,[s(C,{text:"Save",isLoading:c.value},null,8,["isLoading"])])],32)]),default:d(()=>[s(L,{text:"Add entry",icon:"material-symbols:book-5"}),s(U,{path:"/dashboard/spirit/all/entries"})]),_:1},8,["open"])]),_:1})])])])}}}),we=Object.assign(le,{__name:"AppTrackerJournal"});export{we as default};
