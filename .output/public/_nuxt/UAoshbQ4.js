import{_ as $}from"./HU4Mgv1h.js";import{i as f,_ as B}from"./P5oq7zqO.js";import{_ as E}from"./DsnQ0KF8.js";import{_ as U,a as q}from"./CMjz7fwZ.js";import{e as F,am as N,an as R,f as K,J as P,q as h,s as A,c as u,i as H,g as o,a as i,b as r,w as J,T as O,M as Q,o as d,K as Y,O as l,F as j,r as z,t as G,Q as I,P as y,a3 as V}from"./C6hJL-sY.js";import{f as W}from"./BGMpC11e.js";import{w as X}from"./DLgMY6mf.js";import{u as Z}from"./XPEaYAeC.js";import{r as ee}from"./BWc4nruB.js";const te={key:0,class:"relative flex flex-col w-full max-w-3xl p-3 mx-auto overflow-hidden"},oe={class:"py-8"},ae=["value"],ne={class:"flex flex-col gap-8 pb-4"},ge=F({__name:"workout",async setup(se){let c,_;const g=N(),{data:p,pending:k}=([c,_]=R(()=>Z(`/api/user/workout/${g.params.id}`,"$KRlmRlTL6l")),c=await c,_(),c),{fetch:v}=K(),b=P(),s=h(!1);let w=h("");const e=A({description:"",duration:"",sets:"",type:""});p.value&&(e.description=p.value.description,e.duration=p.value.duration,e.sets=p.value.sets,e.type=p.value.type);async function L(){s.value=!0,$fetch(`/api/user/workout/${g.params.id}`,{method:"PUT",body:{...e,date:W()}}).then(async()=>{await v(),await ee(),await V("/dashboard/body"),s.value=!1}).catch(async t=>{b.error("Failed to update","Try again"),console.log(t),w.value=t.statusMessage,s.value=!1})}async function D(){s.value=!0,$fetch(`/api/user/workout/${g.params.id}`,{method:"DELETE",body:e}).then(async()=>{await v(),s.value=!1,await V("/dashboard/body")}).catch(async t=>{b.error("Failed to delete","Try again"),console.log(t),w.value=t.statusMessage,s.value=!1})}return(t,n)=>{const T=$,x=B,C=E,S=U,M=q,m=Q("motion");return o(k)?H("",!0):(d(),u("div",te,[i("div",oe,[r(T,{text:"Edit workout entry"})]),r(O,{name:"slide-up",mode:"out-in"},{default:J(()=>[i("form",{onSubmit:Y(L,["prevent"]),class:"space-y-6"},[l((d(),u("div",null,[l(i("select",{id:"status-select","onUpdate:modelValue":n[0]||(n[0]=a=>o(e).type=a),required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},[n[4]||(n[4]=i("option",{value:"",disabled:"",selected:"",hidden:""},"Choose workout",-1)),(d(!0),u(j,null,z(o(X),a=>(d(),u("option",{value:a.value,key:a.label},G(a.label),9,ae))),128))],512),[[I,o(e).type]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(f))()}]]),l((d(),u("div",null,[r(x,{text:"Duration (in minutes)"}),l(i("input",{id:"text",type:"text","onUpdate:modelValue":n[1]||(n[1]=a=>o(e).duration=a),placeholder:"Example: 60",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,o(e).duration]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(f))()}]]),l((d(),u("div",null,[r(x,{text:"Description"}),l(i("input",{id:"text",type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>o(e).description=a),placeholder:"Legs, arms, core...",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,o(e).description]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(f))()}]]),l((d(),u("div",null,[r(x,{text:"Sets"}),l(i("textarea",{id:"text",type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>o(e).sets=a),placeholder:"Your workout sets",required:"",class:"w-full rounded-xl border border-gray-600 bg-gray-700/50 py-3 px-4 text-lg text-white shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[y,o(e).sets]])])),[[m,{...("inputVarient"in t?t.inputVarient:o(f))()}]]),i("div",ne,[r(C,{text:"Save",isLoading:s.value},null,8,["isLoading"]),r(S,{text:"Cancel",path:"/dashboard/body",isLoading:s.value},null,8,["isLoading"]),r(M,{onClick:D,text:"Delete",isLoading:s.value},null,8,["isLoading"])])],32)]),_:1})]))}}});export{ge as default};
